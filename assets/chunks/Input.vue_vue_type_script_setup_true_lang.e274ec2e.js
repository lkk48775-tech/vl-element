import{d as A,a9 as D,f as p,Q as O,e as F,w as T,o as l,c as t,F as U,r as f,A as n,x as P,a1 as I,aa as j,C as M,b as z,y as h,ab as E,n as L,i as Q,$ as q}from"./framework.f5088bf5.js";import{_ as b}from"./Icon.vue_vue_type_script_setup_true_lang.53b2d95c.js";const oe=Symbol("formContextKey"),G=Symbol("formItemContextKey"),H={key:0,class:"vk-input__prepend"},J={class:"vk-input__wrapper"},W={key:0,class:"vk-input__prefix"},X=["type","disabled","readonly","autocomplete","placeholder","autofocus","form"],Y={key:1,class:"vk-input__append"},Z=["disabled","readonly","autocomplete","placeholder","autofocus","form"],_=A({name:"VLInput",inheritAttrs:!1}),le=A({..._,props:{type:{default:"text"},modelValue:null,size:null,disabled:{type:Boolean},clearable:{type:Boolean},showPassword:{type:Boolean},placeholder:null,readonly:{type:Boolean},autocomplete:{default:"off"},autofocus:{type:Boolean},form:null},emits:["update:modelValue","input","change","focus","blur","clear"],setup(e,{expose:K,emit:s}){const u=e,w=D(),o=p(u.modelValue),c=p(!1),r=p(!1),i=p(),v=O(G,null),y=a=>{v==null||v.validate(a).catch(d=>console.log(d.errors))},$=F(()=>u.clearable&&!u.disabled&&!!o.value&&c.value),m=F(()=>u.showPassword&&!u.disabled&&!!o.value),g=()=>{r.value=!r.value},N=()=>{},R=async()=>{await Q(),i.value.focus()},C=()=>{s("update:modelValue",o.value),s("input",o.value),y("input")},V=()=>{s("change",o.value),y("change")},x=a=>{c.value=!0,s("focus",a)},B=a=>{console.log("blur triggered"),c.value=!1,s("blur",a),y("blur")},S=()=>{o.value="",s("update:modelValue",""),s("clear"),s("input",""),s("change","")};return T(()=>u.modelValue,a=>{o.value=a}),K({ref:i}),(a,d)=>(l(),t("div",{class:L(["vk-input",{[`vk-input--${e.type}`]:e.type,[`vk-input--${e.size}`]:e.size,"is-disabled":e.disabled,"is-prepend":a.$slots.prepend,"is-append":a.$slots.append,"is-prefix":a.$slots.prefix,"is-suffix":a.$slots.suffix,"is-focus":c.value}])},[e.type!=="textarea"?(l(),t(U,{key:0},[a.$slots.prepend?(l(),t("div",H,[f(a.$slots,"prepend")])):n("",!0),P("div",J,[a.$slots.prefix?(l(),t("span",W,[f(a.$slots,"prefix")])):n("",!0),I(P("input",M({class:"vk-input__inner",type:e.showPassword?r.value?"text":"password":e.type,ref_key:"inputRef",ref:i},z(w),{disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,"onUpdate:modelValue":d[0]||(d[0]=k=>o.value=k),onInput:C,onChange:V,onFocus:x,onBlur:B}),null,16,X),[[j,o.value]]),a.$slots.suffix||$.value||m.value?(l(),t("span",{key:1,class:"vk-input__suffix",onClick:R},[f(a.$slots,"suffix"),$.value?(l(),h(b,{key:0,icon:"circle-xmark",class:"vk-input__clear",onClick:S,onMousedown:q(N,["prevent"])},null,8,["onMousedown"])):n("",!0),m.value&&r.value?(l(),h(b,{key:1,icon:"eye",class:"vk-input__password",onClick:g})):n("",!0),m.value&&!r.value?(l(),h(b,{key:2,icon:"eye-slash",class:"vk-input__password",onClick:g})):n("",!0)])):n("",!0)]),a.$slots.append?(l(),t("div",Y,[f(a.$slots,"append")])):n("",!0)],64)):I((l(),t("textarea",M({key:1,class:"vk-textarea__wrapper"},z(w),{ref_key:"inputRef",ref:i,disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,"onUpdate:modelValue":d[1]||(d[1]=k=>o.value=k),onInput:C,onChange:V,onFocus:x,onBlur:B}),null,16,Z)),[[E,o.value]])],2))}});export{le as _,G as a,oe as f};
